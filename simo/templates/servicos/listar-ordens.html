{% extends 'base.html' %}
{% load widget_tweaks %}


{% block breadcrumb %}
  <div class="row">
    <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url 'listar-servicos' %}">Serviços</a></li>
        <li class="breadcrumb-item active" aria-current="page">Listar Ordens de Serviço</li>
      </ol>
    </nav>
  </div>
{% endblock %}

{% block conteudo %}

    //TODO Filtros de Ordens de Serviço <br><br><br><br>


  <table class="table table-sm table-bordered dt-responsive tabela-listar" style="font-size:13px">
    <thead style="border:solid 2px; border-color:white;background: linear-gradient(to right, #0f2027, #203a43, #2c5364); color: white;">
       <tr>
              <th scope="col">Id</th>
              <th scope="col">Data</th>
              <th scope="col">Solicitante</th>
              <th scope="col">Obra</th>
              <th scope="col">Local</th>
              <th scope="col">Encarregado</th>
              <th scope="col">Opções</th>
          </tr>
      </thead>
      <tbody>
          {% for ordem in lista_ordens %}
          <tr>
              <td>{{ordem.pk}}</td>
              <td>{{ordem.data}}</td>
              <td>{{ordem.solicitante}}</td>
              <td>{{ordem.obra}}</td>
              <td>{{ordem.local}}</td>
              <td>{{ordem.encarregado}}</td>

              <td><a href="{% url 'salvar-ordem-servico' ordem.pk %}"><span
                          style="color:blue">Ver Serviços</span></a> 
             </tr>
          {% endfor %}
      </tbody>
  </table>

{% endblock%}

{% block jquery %}
<script src="../static/js/datatables.min.js"></script>

<script>
$('.tabela-listar').DataTable({
        responsive: true,
        // "bSort": false,
        "aaSorting": [],
        "pageLength": 10,
        "language": {

            "decimal": "",
            "emptyTable": "Sem dados disponíveis",
            "info": "Mostrando de _START_ até _END_ de _TOTAL_ registros",
            "infoEmpty": "Mostrando de 0 até 0 de 0 registros",
            "infoFiltered": "(filtrado de _MAX_ registros no total)",
            "infoPostFix": "",
            "thousands": ",",
            "lengthMenu": "Mostrar _MENU_ registros",
            "loadingRecords": "A carregar dados...",
            "processing": "A processar...",
            "search": "Procurar:",
            "zeroRecords": "Não foram encontrados resultados",
            "paginate": {
                "first": "Primeiro",
                "last": "Último",
                "next": "Seguinte",
                "previous": "Anterior"
            },
            "aria": {
                "sortAscending": ": ordem crescente",
                "sortDescending": ": ordem decrescente"
            }
        }
    });
</script>
{% endblock%}